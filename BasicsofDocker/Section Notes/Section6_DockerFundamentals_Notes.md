**importance of order in docker file**

- the order of the build steps (Dockerfile instructions) matters, because when a stepâ€™s cache is invalidated by changing files or modifying lines in the Dockerfile, subsequent steps of their cache will break. Order your steps from least to most frequently changing steps to optimize caching.

**Creating Docker image**

```php
//this creates an image named web1
$docker image build -t web1 .
//this removes an image named web1 with specific version
$docker image rm web1:1.0

//this creating a tag name from wengdt/web1:latest and creating image with tag name web1
$docker image tag web1 wengdt/web1:latest

//this push the image to docker hub
$docker image push wengdt/web1:latest
```

```php
//Running Docker Container naming web1_3 running on local host:5000
//-t:  flag tags in our image
$docker container run -it --name web1_3 -p 5000 -e FLASK_APP=app.py -d --restart on-failure web1
//stops running container
$docker container stop 'name of the container'
```

```php

#Log in to a Docker registry
$docker login

//enables live coding
$docker container run -it -p 5000:5000 -e FLASK_APP=app.py --rm --name web1 -e FLASK_DEBUG=1 -v "/d/Workspace/Training/Basics of Docker/assets/src:/app" web1


```

**linking containers with docker networks**

## CREATING OWN BRIDGE

```php
//Creates a custom network named firstnetwork
$docker network create --driver bridge firstnetwork
//Creates container and assignig it to firstnetwork network
$docker container run --rm -itd -p 6379:6379 --name firstnetwork redis redis
$docker container run --rm -itd -p 5000:5000 -e FLASK_APP=app.py -e FLASK_DEBUG=1 --name web2 -v "/d/Workspace/Training/Basics of Docker/assets/link:/app" web2

//inspect network on firstnetwork
$docker network inspect firsnetwork

```

**BRIDGE**

- a bridge network uses a software bridge which allows containers connected to the same bridge network to communicate, while providing isolation from containers which are not connected to that bridge network. The Docker bridge driver automatically installs rules in the host machine so that containers on different bridge networks cannot communicate directly with each other.

**OVERLAY**

- The overlay network driver creates a distributed network among multiple Docker daemon hosts. This network sits on top of (overlays) the host-specific networks, allowing containers connected to it (including swarm service containers) to communicate securely when encryption is enabled. Docker transparently handles routing of each packet to and from the correct Docker daemon host and the correct destination container.

**VOLUME**

- Volumes are the preferred mechanism for persisting data generated by and used by Docker containers
- Volumes are easier to back up or migrate than bind mounts.
- You can manage volumes using Docker CLI commands or the Docker API.
- Volumes work on both Linux and Windows containers.
- Volumes can be more safely shared among multiple containers.
- Volume drivers let you store volumes on remote hosts or cloud providers, to encrypt the contents of volumes, or to add other functionality.
- New volumes can have their content pre-populated by a container.
- Volumes on Docker Desktop have much higher performance than bind mounts from Mac and Windows hosts.

```php

// creates a Named Volume
$docker volume create web2_redis
```

```php
///Cleaning guide


// Checks running container
$docker container ls
// Checks all container
$docker container ls -a

//Show docker disk usage
$docker system df
//A more detailed view can be requested using the -v
$docker system df -v

//Check all image  you can also check dangling image
$docker image ls

//Remove unused data
$docker system prune


//stops all containers if run into error : container has empty
$docker container stop $(docker container ls -a -q)

```
